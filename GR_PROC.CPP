 # include "GR_HEAD.h"
//--------------------------------------------------------------------------
float getF()
{
 char s[20];
 for(int i=0; i<20; i++)
 s[i]='\0';

 int x=wherex(), y=wherey();
 i = 0;
 char ch;
 do{
   ch=getch();

  if(!i)				// если это нулевой элемент массива
   if(ch==45)				// проверяем знак;
    s[i++]=45;                          // если ввели '-'
   else s[i++]=43;			// знак '+' по умолчанию;

  if((ch>47 && ch<58) || ch==46)	// если нажали цифру
   s[i++]=ch;				// добавляем ее в массив;
  else
   if(ch==8 && i>0)			// если нажали backspase
   {
    s[--i]='\0';			// затираем предыдущее значение;
    gotoxy(x,y); cout << s << ' ';
   }

   gotoxy(x,y); cout << s;
 }while(ch!=13 && ch!=27 && i!=20);
 if(ch==13) { return CIF(s); }
 else return 0;
}
//--------------------------------------------------------------------------
float CIF(char s[])
{
 float C=0;
 int sig=1, point = 0;

 if(s[0]==45) sig=-1;

 for(int d=10, j=0, i=1; s[i]; i++)
   if(s[i]!=46)
    if(point)C = C + (float(s[i]-48) / pow(10,(++j)));
    else C = (C * d) + s[i]-48;
   else point=1;

 return C*sig;
}
//---------------------------------------------------------------------------
void CSort(Coordinate** C, int n)
{
 int i, j;
 for(i=0; i<n-1; i++)
  for(j=i+1; j<n; j++)
   Order(C+i, C+j);
}
//---------------------------------------------------------------------------
void Order(Coordinate** C1, Coordinate** C2)
{
 if((*C1)->getC(X)>(*C2)->getC(X))
  {
   Coordinate* temp = *C1;
   *C1 = *C2;
   *C2 = temp;
  }
}
//  ------------------------------------------------------------------------
void Pisk(int n)                   //                        Звуковая метка.
{
   for(int i=0; i!=n; i++)         //                Смена пискозадавателей.
   {
	 sound((i*i + 50)%2500);   //         Почти случайная частота писка.
		      delay(20);   //           Длительность текущего писка.
   }
		nosound();         //                      Выключение звука.
}
//  ------------------------------------------------------------------------
void Sound(int n, int dd)         //                Звуковое сопровождение.
{
 for(long i=n; --i;) {             //                Смена пискозадавателей.
	sound(400+n*i*i*i%2359);   //         Почти случайная частота писка.
		    delay(1+dd);   //           Длительность текущего писка.
		     }
      nosound();                   //                      Выключение звука.
}
//  ------------------------------------------------------------------------
void No_matr()                // Сообщение о том, что матрица ещё не задана.
{
		  textattr(0x4E); clrscr();
  gotoxy(30,10);
	    cout << "Матрицы  ещё  НЕТ !!!";
  Pisk(70);
}
//  ------------------------------------------------------------------------
void Stop()                        //           Завершение работы программы.
{
	 textattr(0x0A);	clrscr(); //          Смена цветов фона и символов.
gotoxy(35,10); cout << "Good-bye!!!"; //              Прощание.
	Pisk(50);                                  //        Звуковая метка.
		exit(0);                           // Прекращение программы.
}
